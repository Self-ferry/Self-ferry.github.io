<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="1asy"><meta name="copyright" content="1asy"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>Linux-Reviewing | 1asy</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"self-ferry.github.io","root":"/","title":"1asy的小站","version":"1.3.0","mode":"dark","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="前言学校提前放假，期末考试也提前了。没办法赶紧复习咯！(ಥ_ಥ)(((((ી(･◡･)ʃ))))) 基础Linux是谁开发的、是用什么语言开发的、Unix的开源精神1991年Linus Torvalds（林纳斯.托瓦兹）写出Linux内核的第一个版本；1992年第一个发行版出现；GNU&#x2F;Linux系统&#x3D;Linux内核+GNU；发行版有：Red Hat,Debain,Suse,Mandrake,Re">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-Reviewing">
<meta property="og:url" content="https://self-ferry.github.io/2020/12/31/Linux-Reviewing/index.html">
<meta property="og:site_name" content="1asy">
<meta property="og:description" content="前言学校提前放假，期末考试也提前了。没办法赶紧复习咯！(ಥ_ಥ)(((((ી(･◡･)ʃ))))) 基础Linux是谁开发的、是用什么语言开发的、Unix的开源精神1991年Linus Torvalds（林纳斯.托瓦兹）写出Linux内核的第一个版本；1992年第一个发行版出现；GNU&#x2F;Linux系统&#x3D;Linux内核+GNU；发行版有：Red Hat,Debain,Suse,Mandrake,Re">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://self-ferry.github.io/2020/12/31/Linux-Reviewing/image001.png">
<meta property="og:image" content="https://self-ferry.github.io/2020/12/31/Linux-Reviewing/image002.png">
<meta property="article:published_time" content="2020-12-31T11:23:08.000Z">
<meta property="article:modified_time" content="2021-01-02T13:29:06.030Z">
<meta property="article:author" content="1asy">
<meta property="article:tag" content="review">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://self-ferry.github.io/2020/12/31/Linux-Reviewing/image001.png"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><canvas id="trianglifyContainer"></canvas><script defer src="https://cdn.jsdelivr.net/npm/trianglify@4/dist/trianglify.bundle.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  const pattern = trianglify({
    width: 800,
    height: 600,
    cellSize: 75,
    palette: ["YlGnBu", "GnBu", "Purples", "Blues"],
  });
  const canvasOpts = {
    applyCssScaling: false
  }
  document.body.appendChild(pattern.toCanvas(trianglifyContainer, canvasOpts));
});</script><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="1asy"><img width="96" loading="lazy" src="/cool.jpg" alt="1asy"></a><div class="site-author-name"><a href="/about/">1asy</a></div><a class="site-name" href="/about/site.html">1asy</a><sub class="site-subtitle">悟已往之不谏 知来者之可追 实迷途其未远 觉今是而昨非</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">30</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">12</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">36</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://qm.qq.com/cgi-bin/qm/qr?k=epvxdq1sknJe9JMj6J1LsBw4a6cI_2ln&amp;jump_from=webapi" title="QQ 群 389401003" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Self-ferry" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://weibo.com/jizhideyunyoujun" title="微博" target="_blank" style="color:#E6162D"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-weibo-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.douban.com/people/yunyoujun/" title="豆瓣" target="_blank" style="color:#007722"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-douban-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=247102977" title="网易云音乐" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/yunyoujun/" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://twitter.com/YunYouJun" title="Twitter" target="_blank" style="color:#1da1f2"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-twitter-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/elpsycn" title="Telegram Channel" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:Self_ferry@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://travellings.now.sh/" title="Travelling" target="_blank" style="color:var(--hty-text-color)"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-send-plane-2-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E6%98%AF%E8%B0%81%E5%BC%80%E5%8F%91%E7%9A%84%E3%80%81%E6%98%AF%E7%94%A8%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80%E5%BC%80%E5%8F%91%E7%9A%84%E3%80%81Unix%E7%9A%84%E5%BC%80%E6%BA%90%E7%B2%BE%E7%A5%9E"><span class="toc-number">2.1.</span> <span class="toc-text">Linux是谁开发的、是用什么语言开发的、Unix的开源精神</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MBR%E7%AE%80%E4%BB%8B"><span class="toc-number">2.2.</span> <span class="toc-text">MBR简介</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E4%B8%8B%E7%9A%84shell%E7%9B%B8%E5%85%B3%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">3.</span> <span class="toc-text">Linux下的shell相关的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">3.1.</span> <span class="toc-text">shell的分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84shell%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">简单的shell命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">3.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pwd"><span class="toc-number">3.2.2.</span> <span class="toc-text">pwd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cd"><span class="toc-number">3.2.3.</span> <span class="toc-text">cd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ls"><span class="toc-number">3.2.4.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#date"><span class="toc-number">3.2.5.</span> <span class="toc-text">date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cal"><span class="toc-number">3.2.6.</span> <span class="toc-text">cal</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#who"><span class="toc-number">3.2.7.</span> <span class="toc-text">who</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear"><span class="toc-number">3.2.8.</span> <span class="toc-text">clear</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%B8%AE%E5%8A%A9"><span class="toc-number">3.3.</span> <span class="toc-text">获取帮助</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#whatis"><span class="toc-number">3.3.1.</span> <span class="toc-text">whatis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%93help"><span class="toc-number">3.3.2.</span> <span class="toc-text">–help</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#man"><span class="toc-number">3.3.3.</span> <span class="toc-text">man</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#info"><span class="toc-number">3.3.4.</span> <span class="toc-text">info</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usr-share-doc"><span class="toc-number">3.3.5.</span> <span class="toc-text">&#x2F;usr&#x2F;share&#x2F;doc</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bash%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.</span> <span class="toc-text">bash变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E8%AE%BE%E7%BD%AE%E4%B8%8E%E5%BC%95%E7%94%A8"><span class="toc-number">3.4.1.</span> <span class="toc-text">变量的设置与引用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.2.</span> <span class="toc-text">环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8Eshell%E6%9C%89%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">3.5.</span> <span class="toc-text">与shell有关的配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E5%91%BD%E4%BB%A4"><span class="toc-number">3.6.</span> <span class="toc-text">历史记录命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-number">3.7.</span> <span class="toc-text">通配符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%AB%E5%90%8D"><span class="toc-number">3.8.</span> <span class="toc-text">别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%BB%E9%99%A4%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-number">3.9.</span> <span class="toc-text">去除特殊符号的意义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.</span> <span class="toc-text">重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.1.</span> <span class="toc-text">输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%8A%A0%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.2.</span> <span class="toc-text">附加输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.3.</span> <span class="toc-text">错误输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.4.</span> <span class="toc-text">组合输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">3.10.5.</span> <span class="toc-text">输入重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-number">3.11.</span> <span class="toc-text">管道</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E6%8E%A7%E5%88%B6"><span class="toc-number">3.11.1.</span> <span class="toc-text">命令执行顺序控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E5%91%BD%E4%BB%A4"><span class="toc-number">3.11.2.</span> <span class="toc-text">管道命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">3.12.</span> <span class="toc-text">文本处理工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">3.12.1.</span> <span class="toc-text">提取文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">3.12.1.1.</span> <span class="toc-text">查看文件内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A7%E7%9C%8B%E6%96%87%E4%BB%B6%E6%91%98%E5%BD%95"><span class="toc-number">3.12.1.2.</span> <span class="toc-text">产看文件摘录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">3.12.1.3.</span> <span class="toc-text">按关键字提取文本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E5%88%97%E6%88%96%E5%AD%97%E6%AE%B5%E6%8F%90%E5%8F%96%E6%96%87%E6%9C%AC"><span class="toc-number">3.12.1.4.</span> <span class="toc-text">按列或字段提取文本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E6%96%87%E6%9C%AC"><span class="toc-number">3.12.2.</span> <span class="toc-text">分析文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%96%87%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">3.12.2.1.</span> <span class="toc-text">统计文本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E5%91%BD%E4%BB%A4"><span class="toc-number">3.12.2.2.</span> <span class="toc-text">排序命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%96%87%E6%9C%AC"><span class="toc-number">3.12.3.</span> <span class="toc-text">处理文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6"><span class="toc-number">3.12.3.1.</span> <span class="toc-text">转换字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%9B%BF%E6%8D%A2"><span class="toc-number">3.12.3.2.</span> <span class="toc-text">查找替换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E4%B8%AD%E7%9A%84shell%E5%A6%82%E4%BD%95%E5%88%87%E6%8D%A2"><span class="toc-number">3.13.</span> <span class="toc-text">Linux中的shell如何切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vi%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-number">3.14.</span> <span class="toc-text">vi编辑器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E3%80%81%E7%BB%84%E5%92%8C%E6%9D%83%E9%99%90"><span class="toc-number">4.</span> <span class="toc-text">用户、组和权限</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">4.1.</span> <span class="toc-text">用户账户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E5%8D%95%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.1.1.</span> <span class="toc-text">Linux的单用户多任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E5%A4%9A%E7%94%A8%E6%88%B7%E5%A4%9A%E4%BB%BB%E5%8A%A1"><span class="toc-number">4.1.2.</span> <span class="toc-text">Linux的多用户多任务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E7%B3%BB%E7%BB%9F%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E5%88%92%E5%88%86"><span class="toc-number">4.2.</span> <span class="toc-text">linux系统用户角色划分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8%E6%88%B7%E7%BB%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.3.</span> <span class="toc-text">用户及用户组配置文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.3.1.</span> <span class="toc-text">与用户相关的配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#passwd%E4%B8%AD%E6%9C%89%E5%85%B3UID%E7%9A%84%E9%99%90%E5%88%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">passwd中有关UID的限制说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9A%84%E5%BD%B1%E5%AD%90%E5%8F%A3%E4%BB%A4%E6%96%87%E4%BB%B6-etc-shadow"><span class="toc-number">4.3.1.2.</span> <span class="toc-text">用户的影子口令文件&#x2F;etc&#x2F;shadow</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.3.2.</span> <span class="toc-text">与用户组相关的配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-etc-group"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">用户组配置文件&#x2F;etc&#x2F;group</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%9A%84%E5%BD%B1%E5%AD%90%E6%96%87%E4%BB%B6-etc-gshadow"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">用户组的影子文件&#x2F;etc&#x2F;gshadow</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.4.</span> <span class="toc-text">常用命令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.</span> <span class="toc-text">文件系统</span></a></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/ANSI/" style="font-size: 12px; color: #999">ANSI</a> <a href="/tags/ASCII/" style="font-size: 12px; color: #999">ASCII</a> <a href="/tags/Apeache/" style="font-size: 12px; color: #999">Apeache</a> <a href="/tags/GBK/" style="font-size: 12px; color: #999">GBK</a> <a href="/tags/HTML/" style="font-size: 12px; color: #999">HTML</a> <a href="/tags/Hadoop/" style="font-size: 12px; color: #999">Hadoop</a> <a href="/tags/Linux%E5%91%BD%E4%BB%A4/" style="font-size: 12px; color: #999">Linux命令</a> <a href="/tags/SQLmap/" style="font-size: 12px; color: #999">SQLmap</a> <a href="/tags/SSH%E9%9A%A7%E9%81%93/" style="font-size: 12px; color: #999">SSH隧道</a> <a href="/tags/URL-%E7%BC%96%E7%A0%81-%E8%A7%A3%E7%A0%81/" style="font-size: 12px; color: #999">URL 编码/解码</a> <a href="/tags/UTF-8/" style="font-size: 12px; color: #999">UTF-8</a> <a href="/tags/Unicode/" style="font-size: 12px; color: #999">Unicode</a> <a href="/tags/WindowsPE%E7%BB%93%E6%9E%84/" style="font-size: 12px; color: #999">WindowsPE结构</a> <a href="/tags/guestbook/" style="font-size: 12px; color: #999">guestbook</a> <a href="/tags/http/" style="font-size: 12px; color: #999">http</a> <a href="/tags/markdown-%E5%AD%A6%E4%B9%A0/" style="font-size: 12px; color: #999">markdown 学习</a> <a href="/tags/multiprocessing/" style="font-size: 12px; color: #999">multiprocessing</a> <a href="/tags/my-first-blog/" style="font-size: 12px; color: #999">my first blog</a> <a href="/tags/mysql%E4%B8%BB%E9%94%AE/" style="font-size: 12px; color: #999">mysql主键</a> <a href="/tags/payload/" style="font-size: 12px; color: #999">payload</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://Self-ferry.github.io/2020/12/31/Linux-Reviewing/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="1asy"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="1asy"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Linux-Reviewing</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">发表于</span> <time title="创建时间：2020-12-31 19:23:08" itemprop="dateCreated datePublished" datetime="2020-12-31T19:23:08+08:00">2020-12-31</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <span class="post-meta-icon-text">更新于</span> <time title="修改时间：2021-01-02 21:29:06" itemprop="dateModified" datetime="2021-01-02T21:29:06+08:00">2021-01-02</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-file-word-line"></use></svg></span> <span title="本文字数">8.4k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-timer-line"></use></svg></span> <span title="阅读时长">32m</span></span></span><div class="post-classify"><span class="post-tag"><a class="tag" href="/tags/review/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">review</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>学校提前放假，期末考试也提前了。没办法赶紧复习咯！(ಥ_ಥ)<br>(((((ી(･◡･)ʃ)))))</p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="Linux是谁开发的、是用什么语言开发的、Unix的开源精神"><a href="#Linux是谁开发的、是用什么语言开发的、Unix的开源精神" class="headerlink" title="Linux是谁开发的、是用什么语言开发的、Unix的开源精神"></a>Linux是谁开发的、是用什么语言开发的、Unix的开源精神</h2><p>1991年Linus Torvalds（林纳斯.托瓦兹）写出Linux内核的第一个版本；<br>1992年第一个发行版出现；<br>GNU/Linux系统=Linux内核+GNU；发行版有：Red Hat,Debain,Suse,Mandrake,Redflag…<br>GNU：即革奴计划，由理查德.斯托曼发起，目标是创建一套完全自由的操作系统；<br>其他：EMACS、Copyleft</p>
<h2 id="MBR简介"><a href="#MBR简介" class="headerlink" title="MBR简介"></a>MBR简介</h2><p>一块硬盘最多拥有4个主分区(包括扩展分区)。这是</p>
<p>ps: 44页前</p>
<h1 id="Linux下的shell相关的操作"><a href="#Linux下的shell相关的操作" class="headerlink" title="Linux下的shell相关的操作"></a>Linux下的shell相关的操作</h1><p>shell是Linux系统的一个重要组成部分。在Linux系统中，shell就是一组介于用户与Linux内核之间的系统程序。shell是用户与Linux内核之间的接口。</p>
<h2 id="shell的分类"><a href="#shell的分类" class="headerlink" title="shell的分类"></a>shell的分类</h2><p>hell有着不同的分类，比如Bourne shell（sh），Korn shell（ksh）、C shell （csh）、Bourne-again shell（bash）、tcsh。其中最常用的有csh和bash，其提示符如下：<br>sh–Bash ：#root $user<br>csh–:#root %user</p>
<h2 id="简单的shell命令"><a href="#简单的shell命令" class="headerlink" title="简单的shell命令"></a>简单的shell命令</h2><p>Linux命令又称shell命令。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>命令名 【选项】 【参数】</p>
<p>命令行输入的第一个字必须是一个命令的名字，第二个字是明明令的选项或参数，命令行中的每个字必须有空格隔开。【选项】的方括号表示语法上选项是可有可无的。选项旺旺包括一个或多个英文字母，在字母前面必须有一个减号【减号是必须的，Linux用它来区分选项和参数，参数是不带减号的】</p>
<h3 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h3><p>格式：pwd（print work directory缩写）</p>
<p>功能：显示当前目录的绝对路径。</p>
<h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><p>格式：cd 【目录】<br>功能：切换到指定目录。</p>
<p>‘charge directory’的缩写</p>
<p>cd ../   返回到上一级目录<br>cd      不带任何参数表示返回到家目录<br>cd -    <strong><em>返回上一个目录</em></strong>。</p>
<h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><p>格式：ls 【选项】 【文件|目录】<br>功能：显示指定目录下的内容。内容包括该目录下的文件和子目录。当不指定目录时，默认显示当前面目录下中的文件和子目录信息。‘list’的缩写。</p>
<p>主要选项：<br>-a 显示所有文件和子目录，包括隐藏文件和隐藏自子目录。Linux下的隐藏文件和隐藏子目录以‘.’开头。<br>-l 显示文件和子目录详细信息，即以长格式显示，包括文件类型、权限、拥有人和拥有组、文件大小、最近一次修改时间、文件名等信息。<br>-d 参数应该是目录，只显示目录的信息，而不显示其中所包含的文件机子目录的信息，该选项通常与‘-l’一起使用，后接目录名，功能是以长格式显示目录信息。<br>-R 不仅显示指定目录下的文件和子目录信息，而且还递归地显示各子路录下的文件和子目录信息。<br>-t 按照时间顺序显示文件，新的文件排在前面。ls命令默认按照字母顺序排列。<br>–help 查看帮助信息。</p>
<h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p>格式：date【+FORMAT】 或date 【MMDDhhmm【YY】【YYYY】】<br>功能：查看或修改系统时间。</p>
<p>date命令显示的内容依次是星期、月份、小时、分钟、秒、时区和年份。</p>
<h3 id="cal"><a href="#cal" class="headerlink" title="cal"></a>cal</h3><p>格式：cal【YYYY】<br>功能：显示日历<br>显示本月的日历。若参数为年份，则显示该年的日历。</p>
<h3 id="who"><a href="#who" class="headerlink" title="who"></a>who</h3><p>格式：who<br>功能：显示当前已登录到系统的所有用户名及其终端名和登录到系统的时间。</p>
<h3 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h3><p>格式：clear<br>功能：清楚当前终端的屏幕内容。<br>也可以使用快捷组合键Ctrl + L</p>
<h2 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h2><h3 id="whatis"><a href="#whatis" class="headerlink" title="whatis"></a>whatis</h3><p>格式：whatis 命令名<br>功能： 查询某命令的简单功能。</p>
<p>但该命令信息量较少，且该命令是基于数据库的查询，对于刚安装的命令则查询不到，等到系统更新后才能查到。若要立即查询，则使用makewhatis立即生效更新数据库，然后再用该命令进行查询。</p>
<h3 id="–help"><a href="#–help" class="headerlink" title="–help"></a>–help</h3><p>格式： 命令名 –help<br>功能：显示指定命令的帮助信息。</p>
<h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><p>格式：man 命令名<br>功能：显示指定命令的手册页帮助信息。</p>
<h3 id="info"><a href="#info" class="headerlink" title="info"></a>info</h3><p>格式：info 命令名<br>功能：查询命令的用法合作文件的格式。</p>
<h3 id="usr-share-doc"><a href="#usr-share-doc" class="headerlink" title="/usr/share/doc"></a>/usr/share/doc</h3><p>帮助文档就位于/usr/share/doc目录下。</p>
<p>以上获取帮助的方法，man命令是最常使用的。</p>
<h2 id="bash变量"><a href="#bash变量" class="headerlink" title="bash变量"></a>bash变量</h2><h3 id="变量的设置与引用"><a href="#变量的设置与引用" class="headerlink" title="变量的设置与引用"></a>变量的设置与引用</h3><p>变量名=值</p>
<p>引用格式为“$变量名”或者“${变量名}”，一般情况下可以不用加大括号，但有些情况下必须要加大括号。</p>
<p>echo $Atest  将Atest当作一个变量；<br>echo ${A}test  test将在变量A之后。</p>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>系统中影响到bash环境的变量被称为环境变量。可以使用env或export来查阅系统默认的环境变量。</p>
<p>常用的环境变量</p>
<ol>
<li><p>PS1:系统提示符环境变量。</p>
</li>
<li><p>HISTSIZE:默认保存的历史记录数。</p>
</li>
<li><p>PATH: 执行文件查找的路径。<br>PATH的值都是一些目录，目录与目录之间以冒号（:）分隔，由于文件的查找是依序有PATH变量内的目录来查找的，所以目录的顺序也很重要。</p>
</li>
<li><p>USER: 当前登录的用户。</p>
</li>
<li><p>HOME: 当前用户的家目录。</p>
</li>
<li><p>EUID: 当前用户的UID</p>
</li>
</ol>
<h2 id="与shell有关的配置文件"><a href="#与shell有关的配置文件" class="headerlink" title="与shell有关的配置文件"></a>与shell有关的配置文件</h2><ol>
<li><p>/etc/profile 文件、这是系统最重要的shell配置文件，也是用户登录系统最先检查的文件，系统的环境变量多定义在此文件中，主要包括PATH、USER、LANG、MAIL、HOSTNAME、HISTSIZE和INPUTRC。</p>
</li>
<li><p>~/.bash_profile 文件。每个用户的bash环境配置文件，存在于用户目录的家目录下，当系统运行/etc/profile/后，将读取此文件的内容，此文件定义了USER、EUID、HOME、PATH等环境变量，此处的PATH包括了用户自己定义的路径以及用户的“bin”路径</p>
</li>
<li><p>~/.bashrc文件。 前两个文件仅在系统登录时读取。此文件在每次运行bash是读取，此文件主要定义的是一些终端设置以及Shell提示符等。而不定义环境变量等内容。</p>
</li>
<li><p>~/.bash_history文件。该文件保存了用户的历史记录。</p>
</li>
</ol>
<h2 id="历史记录命令"><a href="#历史记录命令" class="headerlink" title="历史记录命令"></a>历史记录命令</h2><p>可以利用上下方向键调出已经执行过的Shell命令。</p>
<p>还可以用history命令查看Shell命令的历史记录</p>
<p>格式：history【数字】<br>功能：查看Shell命令的历史记录。如果指定参数则查看最近执行过的指定个数的Shell命令</p>
<p>还有’!’也可以调出一执行过的Shell命令。<br>格式：! 序号<br>功能：执行指定序号的Shell命令，‘!’ 后面也可以跟字符串来调用已执行过的以该字符串开头的Shell命令。</p>
<p>~<br><font color="red">在ContOS7上不知道为什么不能用’!’命令，man命令提示没有’!’命令手册</font><br>~<br>原来是感叹号与后面的的序号之间没有空格。</p>
<p>!! 是执行上一条命令</p>
<h2 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h2><p>* :通配0个或多个字符</p>
<p>？ ：通配任意单个字符</p>
<p><code>* ？ [] - !</code> 可以组成字符组。</p>
<p>例子：</p>
<p>ls *.png 列出所有PNG图片</p>
<p>ls a?    列出首字母是a,文件名只有两个字符的所有文件</p>
<p>ls [abc]* 列出首字母是a、b、c的所有文件</p>
<h2 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h2><p>格式： alinas 【别名=‘标准Shell命令行’】<br>功能：查看和设置别名</p>
<p>不加参数时查看别名。</p>
<h2 id="去除特殊符号的意义"><a href="#去除特殊符号的意义" class="headerlink" title="去除特殊符号的意义"></a>去除特殊符号的意义</h2><p>Linux系统中有许多符号具有特殊的含义。如! 表示去历史记录，$表示取变量的值，``反引号表示取命令的执行结果，等等。</p>
<p>三种方法可以去除特殊符号的意义</p>
<ol>
<li>反斜杠\</li>
<li>单引号(‘’) 使任何特殊字符都不转义，原样输出。</li>
<li>双引号(“”)只有以下四种情况下会转义：<br>$(美元符号)–取变量的值；<br>``(反引号)–命令替换；<br>\(反斜杠)–单个字符禁止（转义）；<br>!(感叹号)–历史命令替换。</li>
</ol>
<h2 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h2><p>Linux系统中通常利用键盘输入数据，命令执行结果输出到屏幕上。也就是说Linux的默认标准输入时键盘，默认标准输出和标准错误输出都是屏幕。<br>Shell中，不使用系统默认的输入输出端口，而是重新指定至文件的情况称为重定向。</p>
<h3 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h3><p>输出重定向就是命令的执行结果不显示在标准输出（屏幕）上，而是保存到某一文件中的操作，利用符号“&gt;”来显示。</p>
<p>但命令的错误输出信息还是会显示在屏幕上，正确输出会在文件中。</p>
<h3 id="附加输出重定向"><a href="#附加输出重定向" class="headerlink" title="附加输出重定向"></a>附加输出重定向</h3><p>与输出重定向相比附加重定向将内容追加到原有内容之后，不会覆盖原内容。利用符号“&gt;&gt;”来实现。</p>
<h3 id="错误输出重定向"><a href="#错误输出重定向" class="headerlink" title="错误输出重定向"></a>错误输出重定向</h3><p>Shell中的标准输出与错误输出是两个独立的操作。错误输出也可以进行重定向。利用符号“2&gt;”来实现。</p>
<h3 id="组合输出重定向"><a href="#组合输出重定向" class="headerlink" title="组合输出重定向"></a>组合输出重定向</h3><p>若要将正确输出和错误输出重定向至某个文件，而屏幕上不显示任何内容，则可以利用符号“&amp;&gt;”来实现组合输出重定向功能。</p>
<h3 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h3><p>输入重定向是从某个文件读入数据，用“&lt;”符号来实现。由于大多数命令都已参数的形式在命令行上指定输入文件，所以并不常用。</p>
<table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">command &lt;file</td>
<td align="left">将 file 文件中的内容作为 command 的输入。</td>
</tr>
<tr>
<td align="left">command &lt;&lt;END</td>
<td align="left">从标准输入（键盘）中读取数据，直到遇见分界符 END 才停止（分界符可以是任意的字符串，用户自己定义）。</td>
</tr>
<tr>
<td align="left">command <file1 >file2</td>
<td align="left">将 file1 作为 command 的输入，并将 command 的处理结果输出到 file2。</td>
</tr>
</tbody></table>
<h2 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h2><p>学习管道之前我们先了解一下linux的命令执行顺序</p>
<h3 id="命令执行顺序控制"><a href="#命令执行顺序控制" class="headerlink" title="命令执行顺序控制"></a>命令执行顺序控制</h3><p>通常情况下，我们在终端只能执行一条命令，然后按下回车执行，那么如何执行多条命令呢？</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">顺序执行多条命令：command1<span class="token punctuation">;</span>command2<span class="token punctuation">;</span>command3<span class="token punctuation">;</span>
简单的顺序指令可以通过 <span class="token punctuation">;</span>来实现
有条件的执行多条命令：which command1 <span class="token operator">&amp;&amp;</span> command2 <span class="token operator">||</span> command3 <span class="token comment">## which命令用于查找文件。</span>
<span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">:</span> 如果前一条命令执行成功则执行下一条命令，如果command1执行成功（返回0）,则执行command2
<span class="token operator">||</span> :与<span class="token operator">&amp;&amp;</span>命令相反，执行不成功时执行这个命令
<span class="token variable">$?</span><span class="token builtin class-name">:</span> 存储上一次命令的返回结果</code></pre>

<h3 id="管道命令"><a href="#管道命令" class="headerlink" title="管道命令"></a>管道命令</h3><blockquote>
<p>管道是一种通信机制，通常用于进程间的通信（也可通过socket进行网络通信），它表现出来的形式将前面每一个进程的输出（stdout）直接作为下一个进程的输入（stdin）。</p>
</blockquote>
<p>管道命令使用|作为界定符号，管道命令与上面说的连续执行命令不一样。</p>
<p>管道命令仅能处理standard output,对于standard error output会予以忽略。</p>
<p><code>less,more,head,tail...都是可以接受standard input的命令，所以他们是管道命令</code><br><code>ls,cp,mv并不会接受standard input的命令，所以他们就不是管道命令了。</code></p>
<p>管道命令必须要能够接受来自前一个命令的数据成为standard input继续处理才行。</p>
<p>第一个管道命令<br><code>$ ls -al /etc | less</code></p>
<p>通过管道将ls -al的输出作为 下一个命令less的输入，方便浏览。</p>
<h2 id="文本处理工具"><a href="#文本处理工具" class="headerlink" title="文本处理工具"></a>文本处理工具</h2><h3 id="提取文本"><a href="#提取文本" class="headerlink" title="提取文本"></a>提取文本</h3><h4 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span>
格式：cat 【选项】 文件列表
功能：显示文本文件内容

选项说明：-n  表示在每一行前面显示行号。

<span class="token function">more</span>
格式：more 文件
功能： 分屏显示文本文件的内容。

只能向后翻阅

<span class="token function">less</span>
与more命令非常相似，也能分屏显示文本文件的内容。用户可以用上下箭头、Enter键、Space键前后翻阅文本内容。使用Q键退出命令。

less比more命令更方便。
</code></pre>

<h4 id="产看文件摘录"><a href="#产看文件摘录" class="headerlink" title="产看文件摘录"></a>产看文件摘录</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">head</span>
格式：head 【选项】 文件
功能：显示文本文件的开头部分，默认显示文件的前十行
主要选项说明： <span class="token string">'-n 数字'</span> 表示指定显示的行数

<span class="token function">tail</span>
与head命令非常相似，用于显示文件的结尾部分，默认显示最后10行，也可以用<span class="token string">'-n 数字'</span>选项
还可以用<span class="token string">'-f'</span>选项表示跟进文件后续增加，通常用于监控日志文件，便于网络服务的排错处理。</code></pre>

<h4 id="按关键字提取文本"><a href="#按关键字提取文本" class="headerlink" title="按关键字提取文本"></a>按关键字提取文本</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">grep</span>
按照关键字进行文本的提取及过滤出含有某个关键字的行。
grep命令通常与管道配合使用，通常的选项及含义如下：
-i 忽略大小写
-n 行号显示
-v 反向
^  以……开头
$  以……结尾
-r 以递归方式搜索目录
-AX 包括每个匹配项的后X行
-BX 包括每个匹配项的前X行
--color 以颜色突出显示匹配项
-w 精确匹配某个单词</code></pre>

<h4 id="按列或字段提取文本"><a href="#按列或字段提取文本" class="headerlink" title="按列或字段提取文本"></a>按列或字段提取文本</h4><p>按列或字段提取文本的命令常用的包括cut和awk，通常与管道配合使用。</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cut</span>
格式：cut -d 字符 -f 数字 <span class="token function">file</span>
功能：提取文件file中以某字符未分割符的某列（或某字段）。其中-d后面的字符表示分隔符，-f后面的数字表示提取的列数。

<span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd | cut -d : -f 1,3</span>
root:0
bin:1
daemon:2
adm:3
lp:4
sync:5
shutdown:6
halt:7
mail:8
operator:11
games:12
ftp:14
【略】

显示文件/etc/passwd中以‘:’作为分隔符的第一列和第三列

cut命令还可以接-c选项，表示义字符个数截取。

<span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd | cut -c 1-3</span>
roo
bin
dae
adm
lp:
syn
shu
【略】

表示截取/etc/passwd文件中的第1~3个字符


<span class="token function">awk</span>
awk命令与cut命令类似，也按指定的分隔符进行截取。awk命令默认以空格为分隔符，且不管有多少个空格符都算一个，而cut命令则严格规定空格数。

<span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># ifconfig | grep broadcast</span>
        inet <span class="token number">192.168</span>.10.100  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.10.255
        inet <span class="token number">192.168</span>.122.1  netmask <span class="token number">255.255</span>.255.0  broadcast <span class="token number">192.168</span>.122.255
<span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># ifconfig | grep broadcast | awk '&#123;print $6&#125;'</span>
<span class="token number">192.168</span>.10.255
<span class="token number">192.168</span>.122.255

要截取网关地址，先用grep命令截取含有网关地址的行，这一行中以空格为分隔符，但空格个数不一致，不能用cut，要用awkml，截取第五列。<span class="token variable">$5</span>表示第五列，<span class="token variable">$NF</span>则表示倒数第一列。
</code></pre>

<h3 id="分析文本"><a href="#分析文本" class="headerlink" title="分析文本"></a>分析文本</h3><h4 id="统计文本信息"><a href="#统计文本信息" class="headerlink" title="统计文本信息"></a>统计文本信息</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">wc</span>
格式：wc 【选项】 文件
功能：显示文本文件的行数、字数和字符数
主要选项说明：
-c      仅显示问价的字节数
-l      仅显示问价的行数
-w      仅显示文件的单词数

<span class="token punctuation">[</span>root@node ~<span class="token punctuation">]</span><span class="token comment"># wc /etc/passwd</span>
  <span class="token number">44</span>  <span class="token number">88</span>  <span class="token number">2302</span>   /etc/passwd

wc命令依次显示文件的行数、单词数、字节数及文件名。</code></pre>

<h4 id="排序命令"><a href="#排序命令" class="headerlink" title="排序命令"></a>排序命令</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sort</span>

<span class="token function">sort</span> <span class="token punctuation">[</span>-fbMnrtuk<span class="token punctuation">]</span> <span class="token punctuation">[</span>file or stdin<span class="token punctuation">]</span>
<span class="token punctuation">[</span>参数<span class="token punctuation">]</span>
-f ：忽略大小写的差异，例如A 与a 视为编码相同
-b ：忽略最前面的空格部分
-M ：以月份的名字来排序，例如JAN, DEC 等等的排序方法
-n ：使用『纯数字』进行排序默认是以文字型态来排序的<span class="token punctuation">)</span>
-r ：反向排序
-u ：就是uniq ，相同的资料中，仅出现一行代表
-t ：分隔符号，预设是用<span class="token punctuation">[</span>tab<span class="token punctuation">]</span> 键来分隔
-k ：以那个区间<span class="token punctuation">(</span>field<span class="token punctuation">)</span> 来进行排序的意思
</code></pre>

<h3 id="处理文本"><a href="#处理文本" class="headerlink" title="处理文本"></a>处理文本</h3><h4 id="转换字符"><a href="#转换字符" class="headerlink" title="转换字符"></a>转换字符</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">tr</span>
Linux <span class="token function">tr</span> 命令用于转换或删除文件中的字符。

<span class="token function">tr</span> 指令从标准输入设备读取数据，经过字符串转译后，将结果输出到标准输出设备。

语法
<span class="token function">tr</span> <span class="token punctuation">[</span>-cdst<span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>第一字符集<span class="token punctuation">]</span><span class="token punctuation">[</span>第二字符集<span class="token punctuation">]</span>  
<span class="token function">tr</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span>…SET1<span class="token punctuation">[</span>SET2<span class="token punctuation">]</span> 
参数说明：

-c, --complement：反选设定字符。也就是符合 SET1 的部份不做处理，不符合的剩余部份才进行转换
-d, --delete：删除指令字符
-s, --squeeze-repeats：缩减连续重复的字符成指定的单个字符
-t, --truncate-set1：削减 SET1 指定范围，使之与 SET2 设定长度相等
--help：显示程序用法信息
--version：显示程序本身的版本信息

字符集合的范围：

<span class="token punctuation">\</span>NNN 八进制值的字符 NNN <span class="token punctuation">(</span><span class="token number">1</span> to <span class="token number">3</span> 为八进制值的字符<span class="token punctuation">)</span>
<span class="token punctuation">\</span><span class="token punctuation">\</span> 反斜杠
<span class="token punctuation">\</span>a Ctrl-G 铃声
<span class="token punctuation">\</span>b Ctrl-H 退格符
<span class="token punctuation">\</span>f Ctrl-L 走行换页
<span class="token punctuation">\</span>n Ctrl-J 新行
<span class="token punctuation">\</span>r Ctrl-M 回车
<span class="token punctuation">\</span>t Ctrl-I tab键
<span class="token punctuation">\</span>v Ctrl-X 水平制表符
CHAR1-CHAR2 ：字符范围从 CHAR1 到 CHAR2 的指定，范围的指定以 ASCII 码的次序为基础，只能由小到大，不能由大到小。
<span class="token punctuation">[</span>CHAR*<span class="token punctuation">]</span> ：这是 SET2 专用的设定，功能是重复指定的字符到与 SET1 相同长度为止
<span class="token punctuation">[</span>CHAR*REPEAT<span class="token punctuation">]</span> ：这也是 SET2 专用的设定，功能是重复指定的字符到设定的 REPEAT 次数为止<span class="token punctuation">(</span>REPEAT 的数字采 <span class="token number">8</span> 进位制计算，以 <span class="token number">0</span> 为开始<span class="token punctuation">)</span>
<span class="token punctuation">[</span>:alnum:<span class="token punctuation">]</span> ：所有字母字符与数字
<span class="token punctuation">[</span>:alpha:<span class="token punctuation">]</span> ：所有字母字符
<span class="token punctuation">[</span>:blank:<span class="token punctuation">]</span> ：所有水平空格
<span class="token punctuation">[</span>:cntrl:<span class="token punctuation">]</span> ：所有控制字符
<span class="token punctuation">[</span>:digit:<span class="token punctuation">]</span> ：所有数字
<span class="token punctuation">[</span>:graph:<span class="token punctuation">]</span> ：所有可打印的字符<span class="token punctuation">(</span>不包含空格符<span class="token punctuation">)</span>
<span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> ：所有小写字母
<span class="token punctuation">[</span>:print:<span class="token punctuation">]</span> ：所有可打印的字符<span class="token punctuation">(</span>包含空格符<span class="token punctuation">)</span>
<span class="token punctuation">[</span>:punct:<span class="token punctuation">]</span> ：所有标点字符
<span class="token punctuation">[</span>:space:<span class="token punctuation">]</span> ：所有水平与垂直空格符
<span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> ：所有大写字母
<span class="token punctuation">[</span>:xdigit:<span class="token punctuation">]</span> ：所有 <span class="token number">16</span> 进位制的数字
<span class="token punctuation">[</span><span class="token operator">=</span>CHAR<span class="token operator">=</span><span class="token punctuation">]</span> ：所有符合指定的字符<span class="token punctuation">(</span>等号里的 CHAR，代表你可自订的字符<span class="token punctuation">)</span>
实例
将文件testfile中的小写字母全部转换成大写字母，此时，可使用如下命令：

<span class="token function">cat</span> testfile <span class="token operator">|</span><span class="token function">tr</span> a-z A-Z 
testfile文件中的内容如下：

$ <span class="token function">cat</span> testfile         <span class="token comment">#testfile原来的内容  </span>
Linux networks are becoming <span class="token function">more</span> and <span class="token function">more</span> common, 
but scurity is often an overlooked  
issue. Unfortunately, <span class="token keyword">in</span> today’s environment all networks 
are potential hacker targets,  
fro0m tp-secret military research networks to small home LANs.  
Linux Network Securty focuses on securing Linux <span class="token keyword">in</span> a 
networked environment, where the  
security of the entire network needs to be considered
rather than just isolated machines.  
It uses a mix of theory and practicl techniques to 
teach administrators how to <span class="token function">install</span> and  
use security applications, as well as how the 
applcations work and why they are necesary. 
使用 <span class="token function">tr</span> 命令大小写转换后，得到如下输出结果：

$ <span class="token function">cat</span> testfile <span class="token operator">|</span> <span class="token function">tr</span> a-z A-Z <span class="token comment">#转换后的输出  </span>
LINUX NETWORKS ARE BECOMING MORE AND MORE COMMON, BUT SCURITY IS OFTEN AN OVERLOOKED  
ISSUE. UNFORTUNATELY, IN TODAY’S ENVIRONMENT ALL NETWORKS ARE POTENTIAL HACKER TARGETS,  
FROM TP-SECRET MILITARY RESEARCH NETWORKS TO SMALL <span class="token environment constant">HOME</span> LANS.  
LINUX NETWORK SECURTY FOCUSES ON SECURING LINUX IN A NETWORKED ENVIRONMENT, WHERE THE  
SECURITY OF THE ENTIRE NETWORK NEEDS TO BE CONSIDERED RATHER THAN JUST ISOLATED MACHINES.  
IT USES A MIX OF THEORY AND PRACTICL TECHNIQUES TO TEACH ADMINISTRATORS HOW TO INSTALL AND  
USE SECURITY APPLICATIONS, AS WELL AS HOW THE APPLCATIONS WORK AND WHY THEY ARE NECESARY. 
大小写转换，也可以通过<span class="token punctuation">[</span>:lower<span class="token punctuation">]</span><span class="token punctuation">[</span>:upper<span class="token punctuation">]</span>参数来实现。例如使用如下命令：

<span class="token function">cat</span> testfile <span class="token operator">|</span><span class="token function">tr</span> <span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> 
输出结果如下：

$ <span class="token function">cat</span> testfile <span class="token operator">|</span> <span class="token function">tr</span> <span class="token punctuation">[</span>:lower:<span class="token punctuation">]</span> <span class="token punctuation">[</span>:upper:<span class="token punctuation">]</span> <span class="token comment">#转换后的输出  </span>
LINUX NETWORKS ARE BECOMING MORE AND MORE COMMON, BUT SCURITY IS OFTEN AN OVERLOOKED  
ISSUE. UNFORTUNATELY, IN TODAY’S ENVIRONMENT ALL NETWORKS ARE POTENTIAL HACKER TARGETS,  
FROM TP-SECRET MILITARY RESEARCH NETWORKS TO SMALL <span class="token environment constant">HOME</span> LANS.  
LINUX NETWORK SECURTY FOCUSES ON SECURING LINUX IN A NETWORKED ENVIRONMENT, WHERE THE  
SECURITY OF THE ENTIRE NETWORK NEEDS TO BE CONSIDERED RATHER THAN JUST ISOLATED MACHINES.  
IT USES A MIX OF THEORY AND PRACTICL TECHNIQUES TO TEACH ADMINISTRATORS HOW TO INSTALL AND  
USE SECURITY APPLICATIONS, AS WELL AS HOW THE APPLCATIONS WORK AND WHY THEY ARE NECESARY. 
</code></pre>

<h4 id="查找替换"><a href="#查找替换" class="headerlink" title="查找替换"></a>查找替换</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sed</span>
stream editor的缩写，用于对文本流进行查找替换操作，不改变源文件。

Linux <span class="token function">sed</span> 命令是利用脚本来处理文本文件。

<span class="token function">sed</span> 可依照脚本的指令来处理、编辑文本文件。

Sed 主要用来自动编辑一个或多个文件、简化对文件的反复操作、编写转换程序等。

语法
<span class="token function">sed</span> <span class="token punctuation">[</span>-hnV<span class="token punctuation">]</span><span class="token punctuation">[</span>-e<span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-f<span class="token operator">&lt;</span>script文件<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>文本文件<span class="token punctuation">]</span>
参数说明：

-e<span class="token operator">&lt;</span>script<span class="token operator">></span>或--expression<span class="token operator">=</span><span class="token operator">&lt;</span>script<span class="token operator">></span> 以选项中指定的script来处理输入的文本文件。
-f<span class="token operator">&lt;</span>script文件<span class="token operator">></span>或--file<span class="token operator">=</span><span class="token operator">&lt;</span>script文件<span class="token operator">></span> 以选项中指定的script文件来处理输入的文本文件。
-h或--help 显示帮助。
-n或--quiet或--silent 仅显示script处理后的结果。
-V或--version 显示版本信息。
动作说明：

a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的下一行<span class="token punctuation">)</span>～
c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！
d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；
i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现<span class="token punctuation">(</span>目前的上一行<span class="token punctuation">)</span>；
p ：打印，亦即将某个选择的数据印出。通常 p 会与参数 <span class="token function">sed</span> -n 一起运行～
s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 <span class="token number">1</span>,20s/old/new/g 就是啦！


实例
在testfile文件的第四行后添加一行，并将结果输出到标准输出，在命令行提示符下输入如下命令：

<span class="token function">sed</span> -e 4a<span class="token punctuation">\</span>newLine testfile 
首先查看testfile中的内容如下：

$ <span class="token function">cat</span> testfile <span class="token comment">#查看testfile 中的内容  </span>
HELLO LINUX<span class="token operator">!</span>  
Linux is a <span class="token function">free</span> unix-type opterating system.  
This is a linux testfile<span class="token operator">!</span>  
Linux <span class="token builtin class-name">test</span> 
使用sed命令后，输出结果如下：

$ <span class="token function">sed</span> -e 4a<span class="token punctuation">\</span>newline testfile <span class="token comment">#使用sed 在第四行后添加新字符串  </span>
HELLO LINUX<span class="token operator">!</span> <span class="token comment">#testfile文件原有的内容  </span>
Linux is a <span class="token function">free</span> unix-type opterating system.  
This is a linux testfile<span class="token operator">!</span>  
Linux <span class="token builtin class-name">test</span>  
newline </code></pre>

<h2 id="Linux中的shell如何切换"><a href="#Linux中的shell如何切换" class="headerlink" title="Linux中的shell如何切换"></a>Linux中的shell如何切换</h2><p>转载自<a target="_blank" rel="noopener" href="https://blog.csdn.net/jerry_1126/article/details/85224737">https://blog.csdn.net/jerry_1126/article/details/85224737</a></p>
<pre class="language-bash" data-language="bash"><code class="language-bash">方法一: chsh -s /bin/ksh

<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># chsh -s /bin/ksh           # 修改用户默认的shell为ksh</span>
Changing shell <span class="token keyword">for</span> root.
Shell not changed.
<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># egrep 'root' /etc/passwd   # 查看修改是否成功，按CTRL+D退出下次生效</span>
root:x:0:0:root:/root:/bin/ksh 


方法二: <span class="token function">usermod</span> -s /bin/ksh root

<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># usermod -s /bin/ksh root</span>


其他命令或者相互操作:

查看当前使用的shell

<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># echo $SHELL</span>
/bin/bash
<span class="token comment"># 或者</span>
<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># egrep 'root' /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash 
查看所有可用的shell
<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/shells</span>
/bin/sh
/bin/bash
/bin/ksh
/bin/zsh
/bin/csh
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
 
<span class="token comment"># 或者</span>
 
<span class="token punctuation">[</span>root@host ~<span class="token punctuation">]</span><span class="token comment"># chsh -l</span>
/bin/sh
/bin/bash
/bin/ksh
/bin/zsh
/bin/csh
</code></pre>

<h2 id="vi编辑器"><a href="#vi编辑器" class="headerlink" title="vi编辑器"></a>vi编辑器</h2><p><img src="image001.png" loading="lazy"></p>
<h1 id="用户、组和权限"><a href="#用户、组和权限" class="headerlink" title="用户、组和权限"></a>用户、组和权限</h1><p>转载自<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhongguiyao/p/9165917.html">https://www.cnblogs.com/zhongguiyao/p/9165917.html</a>超级详细</p>
<p>Linux系统是一个多用户操作系统，从本机或远程登录的多个用户能共同使用同一计算机，同时访问同一设备。<br>Linux系统进行用户和组管理的目的在于保证系统中数据与文件的安全。</p>
<h2 id="用户账户管理"><a href="#用户账户管理" class="headerlink" title="用户账户管理"></a>用户账户管理</h2><p>Linux/Unix是一个用户、多任务的操作系统；在讲Linux账号及账户组管理之前，先简单了解一下多用户、多任务操作系统的基本概念。</p>
<h3 id="Linux的单用户多任务"><a href="#Linux的单用户多任务" class="headerlink" title="Linux的单用户多任务"></a>Linux的单用户多任务</h3><p>在Linux下，当你登录后，你也可以同时开启很多的服务任务和进程，而各自服务都会跑的很好却对其他任务没有任何影响，这种登录一个用户登录系统执行多个服务任务和进程的情况，就称为单用户多任务。</p>
<h3 id="Linux的多用户多任务"><a href="#Linux的多用户多任务" class="headerlink" title="Linux的多用户多任务"></a>Linux的多用户多任务</h3><p>有时可能是很多用户同时用同一个系统，如公司几十个运维人员，每台机器都可以和被若干个运维人员登录部署或解决相关故障问题，但并不是所有的运维人员都要做同一件事，所以就有了多任务、多用户的情况。</p>
<p>值得注意的是：多用户、多任务并不是大家同时挤到一起，在一台机器的键盘和显示器前来操作机器，多用户可能是通过SSH客户端工具等远程工具等远程登录服务器来进行，比如对服务器的运程控制，只要具有相关用户的权限，任何人都是可以上去操作访问服务器。</p>
<h2 id="linux系统用户角色划分"><a href="#linux系统用户角色划分" class="headerlink" title="linux系统用户角色划分"></a>linux系统用户角色划分</h2><p>用户在系统中是分角色的，在Linux系统中，由于角色的不同，权限和所完成的任务也不同；值得注意的是用户的角色是通过UID和GID识别的；特别是UID，在运维工作中，一个UID是唯一标识一个系统用户的账号。</p>
<p>用户账户：</p>
<p>超级用户root（0）<br>程序用户（1~499）<br>普通用户（500~65535）</p>
<p>超级用户：</p>
<pre><code>默认是root用户，其UID和GID均为0。在每台unix/linux操作系统中都是唯一且真实存在的，通过它可以登录系统，可以操作系统中任何文件
和命令，
拥有最高的管理权限。在生产环境，一般禁止root账号远程登录SSH连接服务器，以加强系统安全。</code></pre>
<p>普通用户：</p>
<pre><code>这类用户一般是由具备系统管理员root的权限的运维人员添加的。</code></pre>
<p>程序用户：</p>
<pre><code>与真实用户区分开来，这类用户的最大特点是安装系统后默认就会存在的，且默认情况不能登录系统，它们是系统正常运行
必不可少的，他们的存在主要是方便系统管理，满足相应的系统进程都文件属主的要求。例如系统默认的bin、adm、nodoby、mail用户等。
由于服务器角色的不同，有部分用不到的系统服务被禁止开机执行，因此，在做系统安全优化时，被禁止开机启动了的服务对应的虚拟用户
也是可以处理掉的(删除或注释)。</code></pre>
<h2 id="用户及用户组配置文件介绍"><a href="#用户及用户组配置文件介绍" class="headerlink" title="用户及用户组配置文件介绍"></a>用户及用户组配置文件介绍</h2><p>Linux系统中下的账户文件主要有/etc/passwd、/etc/shadow、/etc/group、/etc/gshadow四个文件。</p>
<h3 id="与用户相关的配置文件"><a href="#与用户相关的配置文件" class="headerlink" title="与用户相关的配置文件"></a>与用户相关的配置文件</h3><pre class="language-bash" data-language="bash"><code class="language-bash">/etc/passwd:  <span class="token comment">#用户的配置文件， 保存用户账户的基本信息</span>
/etc/shadow  <span class="token comment">#用户影子口令文件</span></code></pre>

<p>用户的配置文件/etc/passwd<br>/etc/passwd文件中每行定义一个用户账号，有多少行就表示多少个账号，在一行中可以清晰的看出，各内容之间又通过”:”号划分了7个字段，这7个字段分别定义了账号的不同属性，passwd文件实际内容如下:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</code></pre>

<p>在passwd文件中，第一行内容就是超级用户root行，可以看到它的uid和gid都为0.为了方便理解，下面是各字段的描述：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">字段1：帐号名，这是用户登陆时使用的账户名称，在系统中是唯一的，不能重名
字段2：密码占位符x；早期的unix系统中，该字段是存放账户和密码的，由于安全原因，后来把这个密码字段内容移到/etc/shadow中了。
　　　　　　这里可以看到一个字母x，表示该用户的密码是/etc/shadow文件中保护的。
字段3：<span class="token environment constant">UID</span>；范围是0-65535
字段4：GID；范围是0-65535；当添加用户时，默认情况下会同时建立一个与用户同名且<span class="token environment constant">UID</span>和GID相同的组。
字段5：用户说明；这个字段是对这个账户的说明
字段6：宿主目录；用户登陆后首先进入的目录，一般与<span class="token string">"/home/用户名"</span>这样的目录
字段7：登录Shell   当前用户登陆后所使用的shell，在centos/rhel系统中，默认的shell是bash；如果不希望用户登陆系统，可以通过usermod
　　　　　　或者手动修改passwd设置，将该字段设置为/sbin/nologin 即可。大多数内置系统账户都是/sbin/nologin,这表示禁止登陆系统。
　　　　　　这是出于安全考虑的。</code></pre>

<h4 id="passwd中有关UID的限制说明"><a href="#passwd中有关UID的限制说明" class="headerlink" title="passwd中有关UID的限制说明"></a>passwd中有关UID的限制说明</h4><p>0：当用户的UID为0时，表示这个账户为超级用户；如果要增加一个系统管理员账户的话，只需将该账户的UID改为0即可。不建议<br>1~499：这个范围是保留给系统用户使用的UID<br>500~65535：普通账户UID<br>最后，来看一下/etc/passwd的权限：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/passwd</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">1665</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/passwd</code></pre>

<p>因为每个用户登录时都需要取得UID和GID来判断权限问题，所以/etc/passwd的权限为644，这样一来就会带来安全问题，即所有的用户都可以都/etc/passwd文件，即使文件内的密码是加密的，但还是存在一定的被攻击破解的安全隐患。因此，就有了/etc/shadow文件。</p>
<h4 id="用户的影子口令文件-etc-shadow"><a href="#用户的影子口令文件-etc-shadow" class="headerlink" title="用户的影子口令文件/etc/shadow"></a>用户的影子口令文件/etc/shadow</h4><p>由于passwd文件必须要被所有的用户读，所以会带来安全隐患。而shadow文件就是为了解决这个安全隐患而增加的。</p>
<p>来看一下/etc/shadow的权限：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/shadow</span>
----------. <span class="token number">1</span> root root <span class="token number">1059</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/shadow</code></pre>

<p>其文件内容为：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/shadow</span>
root:<span class="token variable">$6</span><span class="token variable">$jmM2rFzPCFbmqBkf</span><span class="token variable">$oz3AUooR3qaV5uXU67HcXlYiE3hNf0sSsunk1eBTDPrGUOM1xYCyesGoj</span>.ZLTIzdiXEdrnnqNyC5g8SsRnxQm.:16338:0:99999:7:::
bin:*:15615:0:99999:7:::
daemon:*:15615:0:99999:7:::
adm:*:15615:0:99999:7:::
lp:*:15615:0:99999:7:::</code></pre>

<p>和/etc/passwd一样，shadow文件的每一行内容，也是以冒号(:)作为分隔符，共9个字段，其各个字段的意义如下表：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">　　 字段1：帐号名称
字段2：加密的密码
字段3：最近更改密码的时间；从1970/1/1到上次修改密码的天数
字段4：禁止修改密码的天数；从1970/1/1开始，多少天之内不能修改密码，默认值为0
字段5：用户必须更改口令的天数；密码的最长有效天数，默认值为99999
字段6：警告更改密码的期限；密码过期之前警告天数，默认值为7；在用户密码过期前多少天提醒用户更改密码
字段7：不活动时间；密码过期之后账户宽限时间 <span class="token number">3</span>+5；在用户密码过期之后到禁用账户的天数
字段8：帐号失效时间，默认值为空；从1970/1/1日起，到用户被禁用的天数
字段9：保留字段（未使用），标志</code></pre>

<p>密码过期：一旦超过密码过期日期，用户成功登陆，Linux会强迫用户设置一个新密码，设置完成后才开启Shell程序<br>账户过期：若超过账户过期日期，Linux会禁止用户登陆系统，即使输入正确密码，也无法登陆</p>
<h3 id="与用户组相关的配置文件"><a href="#与用户组相关的配置文件" class="headerlink" title="与用户组相关的配置文件"></a>与用户组相关的配置文件</h3><pre class="language-bash" data-language="bash"><code class="language-bash">/etc/group  <span class="token comment">#用户组配置文件</span>
/etc/gshadow  <span class="token comment">#用户组的影子文件</span></code></pre>

<h4 id="用户组配置文件-etc-group"><a href="#用户组配置文件-etc-group" class="headerlink" title="用户组配置文件/etc/group"></a>用户组配置文件/etc/group</h4><p>/etc/group 文件是用户组的配置文件，内容包括用户与用户组，并且能显示用户归属哪个用户组，因为一个用户可以归属一个或多个不同的用户组；同一用户组的用户之间具有相似的特性。如果某个用户下有对系统管理有最重要的内容，最好让用户拥有独立的用户组，或者是把用户下的文件的权限设置为完全私有；另外root用户组一般不要轻易把普通用户加入进入。</p>
<p>/etc/group文件就是记录GID与用户组的文件。/etc/group文件同/etc/passwd类似，其文件权限也是644：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/group</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">832</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/group</code></pre>

<p>/etc/group的文件内容为：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/group</span>
root:x:0:
bin:x:1:bin,daemon
daemon:x:2:bin,daemon
sys:x:3:bin,adm
adm:x:4:adm,daemon</code></pre>

<p>group文件各个字段的详细说明：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">　　字段1：组账户名称
字段2：密码占位符x；通常不需要设置该密码，由于安全原因，该密码被记录在/etc/gshadow中，因此显示为<span class="token string">'x'</span>。这类似/etc/shadow
字段3：组账户GID号,用户组ID
字段4：本组的成员用户列表；加入这个组的所有用户账号</code></pre>

<h4 id="用户组的影子文件-etc-gshadow"><a href="#用户组的影子文件-etc-gshadow" class="headerlink" title="用户组的影子文件/etc/gshadow"></a>用户组的影子文件/etc/gshadow</h4><p>/etc/gshaow是/etc/group的加密文件，比如用户组的管理密码就是存放在这个文件。/etc/group和/etc/gshadow是互补的两个文件；比如大型服务器，针对很多用户和用户组，定制一些关系结构比较复杂的额权限模型，设置用户组密码是极有必要的。比如不想让一些非用户组成员永久拥有用户组的权限和特性，这时就可以通过密码验证的方式来让某些用户临时拥有一些用户组特性，这时就要用到用户组密码；/etc/gshadow格式如下，每个用户组独占一行；</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># ls -l /etc/gshadow</span>
----------. <span class="token number">1</span> root root <span class="token number">682</span> <span class="token number">4</span>月  <span class="token number">11</span> <span class="token number">14</span>:13 /etc/gshadow
<span class="token punctuation">[</span>root@Web ~<span class="token punctuation">]</span><span class="token comment"># head -5 /etc/gshadow</span>
root:::
bin:::bin,daemon
daemon:::bin,daemon
sys:::bin,adm
adm:::adm,daemon</code></pre>

<p>gshadow文件中各个字段详细说明：</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">字段1：组账号的名称
字段2：加密后的密码字符串，这个字段可以空的或者<span class="token operator">!</span>；如果是空的或有！，表示没有密码
字段3：本组的管理员列表；这个字段也可为空；如果有多个用户组管理员，用,号分隔
字段4：本组的成员列表；加入这个组的所有用户账户；列表中多个用户通过<span class="token string">","</span>分隔</code></pre>

<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><p><img src="image002.png" loading="lazy"></p>
<h1 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h1></div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="images/reward.jpg"><img loading="lazy" src="/images/reward.jpg" alt="支付宝" title="支付宝"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>1asy</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://self-ferry.github.io/2020/12/31/Linux-Reviewing/" title="Linux-Reviewing">https://self-ferry.github.io/2020/12/31/Linux-Reviewing/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> 许可协议。</li></ul></section></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/12/30/SQL-injection-payload-list/" rel="next" title="SQL-injection-payload-list【转】"><span class="post-nav-text">SQL-injection-payload-list【转】</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>点击按钮跳转 GitHub Issues 评论。</span><br><span>若没有本文 Issue，您可以使用 Comment 模版新建。</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+Linux-Reviewing">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> 1asy</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v5.2.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.3.0</span></div><div class="live_time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">ヾ(=･ω･=)o</span><script>function blog_live_time() {
  window.setTimeout(blog_live_time, 1000);
  const start = new Date('2020-11-16T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " 天 " + passHour + " 小时 " + passMinute + " 分 " + passSecond + " 秒";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body></html>